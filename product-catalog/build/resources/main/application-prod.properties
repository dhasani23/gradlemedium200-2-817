# ===============================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ===============================
# Product Catalog Service - Production Profile
# This configuration overrides the default settings in application.properties for production use

# Server configuration - Using default port from application.properties
server.port=${SERVER_PORT:8081}
# Disable pretty-printing of JSON responses for performance
spring.jackson.serialization.indent_output=false

# Logging Configuration - Less verbose for production
logging.level.root=WARN
logging.level.com.gradlemedium200=INFO
logging.level.org.springframework.web=WARN
logging.level.org.springframework.data=WARN
logging.level.com.amazonaws=WARN
# Simplified log pattern for production
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} %-5level [%thread] %logger{36} - %msg%n

# AWS Production Configuration
aws.region=${AWS_REGION:us-east-1}
aws.accessKey=${AWS_ACCESS_KEY}
aws.secretKey=${AWS_SECRET_KEY}

# DynamoDB Production Configuration
aws.dynamodb.endpoint=${DYNAMODB_ENDPOINT}
aws.dynamodb.region=${AWS_REGION:us-east-1}
# Higher capacity units for production environment
aws.dynamodb.read-capacity-units=20
aws.dynamodb.write-capacity-units=15
aws.dynamodb.auto-create-tables=false
# Production table prefix
aws.dynamodb.table-prefix=prod_catalog_

# SNS Production Configuration
aws.sns.topicArn=${SNS_TOPIC_ARN}
aws.sns.inventory-alert-topic=${SNS_INVENTORY_ALERT_TOPIC}
aws.sns.new-product-notification-topic=${SNS_NEW_PRODUCT_TOPIC}

# SQS Production Configuration
aws.sqs.queueUrl=${SQS_QUEUE_URL}
aws.sqs.image-processing-queue=${SQS_IMAGE_PROCESSING_QUEUE}
aws.sqs.inventory-update-queue=${SQS_INVENTORY_UPDATE_QUEUE}

# S3 Production Configuration
aws.s3.bucketName=${S3_BUCKET_NAME}
aws.s3.image-folder=product-images/
aws.s3.thumbnail-folder=product-thumbnails/

# Product Configuration - Optimized for production
product.default-page-size=20
product.max-page-size=100

# Production Cache Settings - Larger and longer expiration for performance
spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=60m

# Search Configuration for Production
search.highlight.enabled=true
search.suggestion.enabled=true
search.min-score=0.3

# Recommendation Engine - Full features for production
recommendation.enabled=true
recommendation.max-items=10
recommendation.user-history-limit=100
recommendation.algorithm=collaborative-filtering

# CORS - Restricted for production
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:https://gradlemedium200.com,https://admin.gradlemedium200.com}
cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS

# Async Task Executor - Optimized for production workload
async.core-pool-size=10
async.max-pool-size=20
async.queue-capacity=100
async.thread-name-prefix=prod-product-catalog-

# Production inventory settings
inventory.low-stock-threshold=15
inventory.notification.enabled=true

# Security settings for production
server.ssl.enabled=${SSL_ENABLED:true}
server.ssl.key-store=${SSL_KEYSTORE:keystore.p12}
server.ssl.key-store-password=${SSL_KEYSTORE_PASSWORD}
server.ssl.key-store-type=PKCS12
server.ssl.key-alias=${SSL_KEY_ALIAS:tomcat}

# Error handling for production - don't expose details
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.whitelabel.enabled=false

# Spring Actuator - Limited exposure for security
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# Performance tuning
spring.resources.cache.cachecontrol.max-age=3600
spring.resources.cache.cachecontrol.must-revalidate=true
spring.resources.chain.compressed=true
spring.resources.chain.cache=true

# Connection pool settings
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.connection-timeout=30000

# TODO: Configure production monitoring and alerting integrations
# TODO: Set up production backup schedule for DynamoDB tables
# FIXME: Ensure all sensitive values are provided through environment variables
# FIXME: Configure proper SSL certificate before deployment