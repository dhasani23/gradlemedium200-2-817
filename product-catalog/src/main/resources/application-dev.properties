# ===============================
# DEVELOPMENT ENVIRONMENT CONFIGURATION
# ===============================
# Product Catalog Service - Development Profile
# This configuration overrides the default settings in application.properties for development use

# Server configuration
server.port=8081
# Enable pretty-printing of JSON responses for easier debugging
spring.jackson.serialization.indent_output=true

# Logging Configuration - More verbose for development
logging.level.root=INFO
logging.level.com.gradlemedium200=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.data=DEBUG
logging.level.com.amazonaws=INFO
logging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n%wEx

# AWS Local Development Configuration
aws.region=us-east-1
aws.accessKey=dev-access-key
aws.secretKey=dev-secret-key

# DynamoDB Local Configuration
aws.dynamodb.endpoint=http://localhost:8000
aws.dynamodb.region=us-east-1
# For local development, use lower capacity to reduce costs
aws.dynamodb.read-capacity-units=2
aws.dynamodb.write-capacity-units=2
aws.dynamodb.auto-create-tables=true
# Use dev prefix for table names to differentiate from other environments
aws.dynamodb.table-prefix=dev_prod_catalog_

# SNS Local Configuration - Using LocalStack
aws.sns.endpoint=http://localhost:4566
aws.sns.topicArn=arn:aws:sns:us-east-1:000000000000:dev-product-catalog-events
aws.sns.inventory-alert-topic=arn:aws:sns:us-east-1:000000000000:dev-inventory-alerts
aws.sns.new-product-notification-topic=arn:aws:sns:us-east-1:000000000000:dev-new-product-notifications

# SQS Local Configuration - Using LocalStack
aws.sqs.endpoint=http://localhost:4566
aws.sqs.queueUrl=http://localhost:4566/queue/dev-product-catalog-queue
aws.sqs.image-processing-queue=http://localhost:4566/queue/dev-image-processing-queue
aws.sqs.inventory-update-queue=http://localhost:4566/queue/dev-inventory-update-queue

# S3 Local Configuration - Using LocalStack
aws.s3.endpoint=http://localhost:4566
aws.s3.bucketName=dev-product-images-bucket
aws.s3.image-folder=dev/product-images/
aws.s3.thumbnail-folder=dev/product-thumbnails/

# Development-specific Product Configuration
product.default-page-size=10
product.max-page-size=50

# Development Cache Settings - Smaller and faster expiration for testing
spring.cache.caffeine.spec=maximumSize=100,expireAfterWrite=5m

# Search Configuration for Development
search.highlight.enabled=true
search.suggestion.enabled=true
search.min-score=0.1  # Lower threshold for development to see more results

# Recommendation Engine - Simplified for Development
recommendation.enabled=true
recommendation.max-items=5
recommendation.algorithm=simple-similarity

# CORS - More permissive for local development
cors.allowed-origins=http://localhost:3000,http://localhost:4200,http://127.0.0.1:3000
cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS

# Async Task Executor - Smaller pool for development
async.core-pool-size=2
async.max-pool-size=5
async.queue-capacity=10
async.thread-name-prefix=dev-product-catalog-

# Spring Actuator - More endpoints exposed for development
management.endpoints.web.exposure.include=*
management.endpoint.health.show-details=always

# Development-specific inventory settings
inventory.low-stock-threshold=5
inventory.notification.enabled=true

# Enable H2 console for development database browsing (if needed)
# spring.h2.console.enabled=true
# spring.h2.console.path=/h2-console

# Enable detailed error messages
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=always

# TODO: Set up local development database credentials if switching from DynamoDB
# TODO: Configure test notification endpoints for local development
# FIXME: Ensure LocalStack is properly configured before starting the application
# FIXME: Update AWS credentials with your local development values